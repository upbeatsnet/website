
<script>
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = 'style/main.css?d=' + new Date().getTime();
    document.head.appendChild(link);
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js"></script>
  <script src="js/data.js" type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/mediaelement@4.2.16/build/mediaelement-and-player.min.js"></script>




  <html>
    <body>
  
  
    <div id="app">
  
        <div style=" width: 100%; display: flex;">
            <div>
    
            </div>
            <img src="images/Logo.png" height="200px;" alt="Logo" />
        
        </div>
  
        <div style="padding:30px; font-size: 3em;">

            Demos 

        </div>


        <div style="font-size: 2em; width: 100%;">
            <div v-for="d, index in demoList" style="margin: 0 10px; display:flex; padding: 20px;">
                <div>
                    {{ index + 1 }}.
                </div>
                <div style="padding-left:20px; width:500px;">
                    <span v-html="d.title"></span>
                </div>

                <div style="text-align: center; min-width:200px;">
                    <audio v-show="!isSafari()" controls preload="none"  class="safari-hide" style="min-height:50px; min-width: 200px;" >
                        <source :src="'demos/' + d.fileName" type="audio/mpeg">
                    </audio>
                    <div style="padding-top:10px;">
                        <a :href="'demos/' + d.fileName" type="audio/mpeg" :download="d.fileName" style="padding-top:10px; color:white; font-size: .8em; text-decoration: none !important;">Download</a>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <a @click="showLyrics(d.lyrics)"  style="color:white; font-size: .8em; text-decoration: none !important;">Lyrics</a>
                    </div>
                </div>
            </div>
        </div>

        <div v-show="showLyricDialog" style="position: absolute; top:150px; left:10px; width:95%; max-width:1000px; border: solid 1px silver; background-color: black; padding:10px;" >
            <button @click="showLyricDialog=false" style="font-size:2em;">Close</button>
            <br><br>

            <div style="font-size: 2em;">
                <pre>{{lyrics}}</pre>

            </div>


            
    
        </div>
    
  
  
  </div>


  
  <script type="text/javascript">
      
    var AppIndex = {
        data() {
            return {
                appState: 'loading',
                demoList: [],
                showLyricDialog: false,
                lyrics: 'What?'
            }
        },
        components: {
        },
        methods: {
            isSafari: function () {
                const visible = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
                return visible;
            },
            showLyrics: function (pageName) {
                this.lyrics = false;
                this.showLyricDialog = true;

                fetch(pageName)
                    .then(response => {
                        if (!response.ok) throw new Error('Network response was not ok');
                        return response.text();
                    })
                    .then(data => {
                        this.lyrics = data; // the content of your text file
                        //alert(this.lyrics);
                    })
                    .catch(error => {
                        console.error('Error fetching file:', error);
                });

            }
        },
        filters: {
        },
        computed: {
        },
        mounted() {
            this.demoList = demos; // load your demos array
        }
    };
  
    var appIndex = Vue.createApp(AppIndex);
    appIndex.mount('#app');
  
  </script>
  
  
    </body>
  </html>
  